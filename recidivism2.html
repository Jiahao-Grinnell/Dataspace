<!doctype html>
<html>
<head>
<link href="https://fonts.googleapis.com/css2?family=Oswald:wght@300;400;500;700&display=swap" rel="stylesheet">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Dataspace|Recidivism|Mod 2</title>
<link href="css/Style1.css" rel="stylesheet" type="text/css">
<link rel="icon" type="image/x-icon" href="images/MapLogo.ico">
</head>
	
		<div id="nav-wrapper"> 
	    <!--**************************************************************************
    Header starts here. It contains Logo and 7 navigation links. 
    ****************************************************************************-->
   		<nav>
	    	<a href = "https://www.grinnell.edu"> <img  src="images/MapLogoBg.png" alt="logo" width = "50" height = "40" style = "padding: 16px"> </a> 
	   		<a style = "color:white;font-size:25px; padding-top: 16px; padding-right: 600px; font-family:'Oswald'" href="index.html"> Dataspace by DASIL </a>
	   <div class = "dropdown" style = "float:left;padding-top:15px;padding-right:14px">
	   		<a href="stories"><button class = "dropbtn" href="stories.html"> Stories </button></a>
		   		<div class = "dropdown-content">
					<div class = "dropdown" style="float:left; padding-top:15px; padding-right:14px">
						<a class="dropbtn" href="brexit1.html">Brexit</a>
						<a class="dropbtn" href="covid1.html">Covid-19</a>
						<a class="dropbtn" href="nypd1.html">NYPD</a>
						<a class="dropbtn" href="recidivism1.html">Recidivism</a>
						<a class="dropbtn" href="stories.html">All Stories</a>
                    </div>
	   			</div>
	   </div>
			<div class = "dropdown" style = "float:left;padding-top:15px;padding-right:14px" >
	   			<a href="games.html"><button class = "dropbtn" > Games </button></a>
		   		<div class = "dropdown-content">
					<div class = "dropdown" style="float:left; padding-top:15px; padding-right:14px">
						<a class="dropbtn" href="coffeetruck1.html">Coffee Truck</a>
						<a class="dropbtn" href="greenhouse1.html">Greenhouse</a>
						<a class="dropbtn" href="racer1.html">Racer</a>
						<a class="dropbtn" href="psychic1.html">Psychic</a>
						<a class="dropbtn" href="games.html">All Games</a>
                    </div>
	   			</div>
	   		</div>
	   <div class = "dropdown" style = "float:left;padding-top:15px" >
	   		<button class = "dropbtn" > Resources </button>
	   			<div class = "dropdown-content">
		   			<a href = "../../Downloads/brexit/racer1.html">Datasets</a>
		   			<a href = "../../Downloads/brexit/greenhouse1.html">DASIL Lab</a>
		  			<a href = "../../Downloads/brexit/statsgrounded1.html">Student Guide</a>
		  			<a href = "../../Downloads/brexit/statsgrounded1.html">Faculty Guide</a>
		   		</div>
	   </div>
	</nav>
    </div>
<body>
	<div id = "mainwrapper" style = "width:75rem">
		<div class="blackCover"></div>
	 	<img src = "images/recidivism2Long.jpg" style = "height:200px; width:100%;display:block;padding-top:100px" alt = "psychic">
		<div class="container">
        	<div class="overlay" style = "padding-top:150%;padding-left:200%;font-weight:bold;font-size:60px;padding-top:10px; margin-top:-100px;position:absolute">RECIDIVISM</div>
   		</div>
		<div class="flex-container">
			<a href="recidivism1.html"> <div class="partsButtonTwo" >MODULE 1</div></a>
			<a href="recidivism2.html"> <div class="partsButtonTwo" style="background:#418fde">MODULE 2</div></a>
		<article class = "TitleInfo" style = "width:100%;padding-top:50px">
			<hr>
			<h1 style = "color:black;font-size:36px;font-family:'Oswald';text-align:center">RECIDIVISM</h1>
			<h4 style="text-align:center">Classification Trees and Recidivism</h4>
			<hr>
			<br>
		</article>
	</div>	
	
	<div id="second-wrapper">
			<div class="sectionHeader">Part 1A: Description of the Data</div>
			<br>
			<h4>In this next section, we explore two methods, Classification Trees and Random Forests in trying to predict recidivism. First, let's take a look at the data.</h4>
			<br>
			<h4><strong>Description of the Data</strong></h4>
			<h4>The data being used consists of 10,428 criminals in Broward County, Florida from the years 2013 to 2014 and contains past criminal history and what they were charged for when they were arrested. Moreover, it contains the outcome (recidivated / did not recidivate) after two years of receiving their COMPASS risk assessment. For a description of each variable, please click here.</h4>
			<br>
			<h4><strong>Classification Trees</strong></h4>
			<h4>Our first method of machine learning that we will look at are classification trees. To familiarize yourself, please watch the video below that goes through the process of creating a classification tree by using a sample of the data we will be using.</h4>
			<br>
	 		<iframe width="530" height="300" style="margin-left:30%" src="https://www.youtube.com/embed/c8rYsyTjROw" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
			<br>
			<h4>With measuring accuracies, it is also important to measure the accuracy of a model as it relates to different groups. This is a good way to check if the model may be inherently biased towards a specific group.</h4>
		
			<div class="sectionHeader">Part 1B: Recidivism in the United States</div>
			<br>
			<h4><strong>Investigating Your Own Classification Tree</strong></h4>
			<h4>Use the app below to make your own Classification Trees. The app allows you to choose which variables go into making a classification tree and how bushy (# number of branches) your tree can be. Also, you can see how well your tree performs by looking at the confusion matrix and overall accuracy. You can also view the accuracy of your tree by race, sex, marital status, and age category.</h4>
			<h4>To use the app below, start with the following settings then answer the questions to the left.</h4>
			<ul>
				<li>Past History of the Criminal: <strong>priors</strong></li>
				<li>Charactericstics of the Criminal: <strong>age sex</strong></li>
				<li>Type of Crime Committed: <strong>Null</strong></li>
				<li>See accuracy accross: <strong>none</strong></li>
			</ul>
		<br><br>
			<iframe src = "https://bowsermince.shinyapps.io/CartRecid/" width= "100%" height="1450px" style = "border:none">
		</iframe>	
	</div>

	<div id = "SecondSectionwrapper" style = "width:100%;height:61rem">
		<div style = "width:25%;float:left">
			<iframe src =  "https://stat2games.sites.grinnell.edu/dataspaceForms/recidivism2.php" width = "100%" height = "815px" style = "border:none;padding-right:15px;padding-bottom: 50px"></iframe>	
			</div>
			<h4>Predicting if someone will recidivate is a difficult task. While decision trees are powerful classifying algorithms, they have their advantages and disadvantages. Unlike many machine learning algorithms, decision trees are white-box, meaning the user can see the steps taken in order to classify an individual, and the construction of the tree can be clearly explained; furthermore, they are easy to understand and interpret. Generally, though, decision trees alone are not useful as they are unstable, lack flexibility, and are relatively inaccurate compared to other algorithms.</h4>
			<h4>While the COMPAS algorithm is proprietary, its mechanisms are likely more complex than a standard decision tree. By adopting concepts from decision trees, we can build a more advanced model known as a random forest. Instead of outputting one specific category, a random forest returns a probability of some outcome occurring based on the results of many decision trees. For example, the decision tree for recisivism in the above app will result in either a Yes or No response. Random forest algorithms provide the probability of a person recidivating. When used to predict recidivism, we can use this probabilistic output to create a more equitable model.</h4>
			<h4>A very useful aspect of random forests is that the result is an aggregation of many different, uncorrelated decision trees. Each tree in a random forest is made from bootstrapped data -- a method where a new sample is created by randomly selecting rows from the original sample (with replacement). Another reason random forests produce different trees is because only a subset of variables are considered at each node of a tree’s construction. Since trees are created with bootstrapping and we aggregate the results of many trees to return a probability of an outcome, a random forest is known as a bagging algorithm.</h4>
			<br>
			</div>
	
	<div id="second-wrapper">
			<img src="images/recidivism2data.png" alt="Human versus COMPAS algorithmic predictions" style="width:40%;margin-left:30%">
			<br><br>
			<h4>This figure displays how forests reach their predictions</h4>
			<h4>In essence, random forests differ from a single decision tree in three ways:</h4>
			<ol>
				<li>Each tree in a random forest is created using a bootstrapped dataset that is the same size as the original</li>
				<li>Only a subset of variables is considered at each node of a tree.</li>
				<li>Classification of an individual is based on the result of many different, uncorrelated trees.</li>
			</ol>
			<h4><strong>Note</strong>: For more detail about random forests, it is recommended you watch this video <a href="Note: For more detail about random forests, it is recommended you watch this video here."> here</a>.</h4>
			<br>
			<h4>After running training or testing data through a model, we can create confusion matrices to examine different accuracy metrics. Based on ProPublica’s report, we can visualize the racial disparities of COMPAS by creating different confusion matrices based on race:</h4>
		<br><br>
		<iframe src = "https://bowsermince.shinyapps.io/Forest_app_recid/" width="100%"  height = "1050px" style = "border:none;position:relative;right:" ></iframe>
		<br><br>
		
		<h4><strong>Model Validation</strong></h4>
		<h4>While this was hinted in first section, we want to go through how model validation is done. The technique we will be going through is called cross validation. Cross validation is a set of techniques used to measure how well a model will generalize to data not used in its creation. The most basic cross validation technique is the validation set approach. For this method, we divide the original dataset into two unique datasets: a training dataset, used in the creation of the model, and a testing dataset, used in the validation of the model. By having two independent sets, we can more equitably assess differences in accuracy between models. This has already been done for you when you made your trees and forests above. How do the accuraccies differ from the training dataset and the testing dataset?</h4>
		<br><br>
	</div>

	<div id = "mainwrapper" style = "width:75%">
		<section id = "mainContent" style = "line-height:1.65;width:95%;float:left; font-size:20px;border:3px; border-style:solid; border-color:#000">
			<h3><strong>Part 1C: Get Curious</strong><img src="images/GetCurious.jpg" width="35" height="32" alt="get curious icon"/></h3>
            <h4>1. In the application above, how is the filter tab useful?</h4>
			<h4>2. Do people who were identified as female by the police have the same arrest patterns as those who were identified as male?</h4>
			<h4>3. In the application above, can we create a graphic that effectively uses both the "Facet By" and "Color By" options?</h4>
           	<h4>4. What is the best accuracy you can achieve?</h4>
			<h4>5. Do accuracies vary by race? By age? What implications does this have?</h4>
			<h4>6. Why do you think accuracies can go down when more variables are added?</h4>
			<h4>7. Should states across the US continue to use the COMPAS algorithm? Why or why not?</h4>
           	<h4>8. Can we guarantee justice in the courtroom for all individuals when inherently biased algorithms are used in the decision process?</h4>
			<h4>9. What questions should be asked before spending government money on such algorithms?</h4>
			<h4>10. What other real-world applications could CART have?</h4>
			<br><br>
		</section>
	</div>

		<br>
	</div>	

	<div class="partsButton" style="width:50%;margin-left:25%" href="stories.html">Explore Other Stories</div>

	
	<h2>&nbsp;</h2>
	<section style = "width:100%; overflow:hidden">
	<hr>
	<hr>
	<div class = "junkdrawer"  style = "padding-left:10%">
	<h2 style = "font-family: Georgia; font-size:30px"> Dataspace</h2>
		<section id = "Data Stories" style = "float:left">
		<h3> Data Stories </h3>
			<br>
			<a href = "nypd1.html"> NYPD</a>
			<br>
			<br>
			<a href = "covid1.html"> Covid-19 <a>   
				<br> 
				<br>
				<a href = "recidivism1.html"> Recidivism</a>
				<br> 
				<br>
				<a href = "brexit1.html"> Brexit</a>
		</section>
		<section id = "Stats Games" style = "float:left;padding-left:100px">
		<h3> Stats Games </h3>
			<br>
			<a href = "racer1.html"> Racer</a>
			<br>
			<br>
			<a href = "greenhouse1.html"> Greenhouse</a>
			<br>
			<br>
			<a href = "statsgrounded1.html"> Statistically Grounded</a>


		</section>
		
		<section id = "Useful Links" width = "25%" style = "float:left;padding-left:100px">
		<h3> Other Links </h3>
			<br>
			<a href = "index.html"> Homepage</a>
			<br>
			<br>
			<a href = "https://dasil.sites.grinnell.edu/"> Dasil Lab</a>
			<br>
			<br>
			<a href = "references.html"> Faculty Resources</a>
			<br>
			<br>
			<a href = "datasets.html"> Datasets</a>
		</section>
		<section id = "Email and Questions"  style = "float:left;padding-left:100px; width:20%">
			<h3> Questions? </h3>
			
			<p>
			If you have any questions or comments, please email us at <a href = "mailto: DASIL@grinnell.edu" style = "color:blue"> DASIL@grinnell.edu</a>
			</p>
			
		</section>
</div>
	</section>
		
		<section style="width:100%; float:left; text-align: center">
			<p> Dataspace is supported by the Grinnell College Innovation Fund and was developed by Grinnell College faculty and students. Partial support provided by the Transforming Undergraduate Education in Science (TUES) program at the National Science Foundation under DUE#0510392, DUE #1043814, and DUE #1712475.  Copyright &copy; 2021. All rights reserved</p>
			<p> This page was last updated on 5 August 2022.</p>
			<script src="https://apps.elfsight.com/p/platform.js" defer></script>
			<div class="elfsight-app-c86b9d9c-d902-4083-ab9f-03e19e470235"></div>
		</section>
	</body>
</html>

<footer>
    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
    <script src="https://dataspace.sites.grinnell.edu/tools/tracker.js"></script>
</footer>	
	</div>
</body>
</html>